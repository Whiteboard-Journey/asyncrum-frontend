{"version":3,"file":"static/js/763.e0a0935e.chunk.js","mappings":"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","sources":["pages/settings/LeftPanel.tsx","pages/settings/PersonalInfoForm.tsx","pages/settings/PersonalImageForm.tsx","pages/settings/PersonalSettings.tsx","pages/settings/hooks/usePersonalSettings.tsx","pages/settings/hooks/useTeamSettings.tsx"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport { Team } from './types';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { useRedux } from 'hooks';\r\nimport { readTeam } from 'redux/actions';\r\n\r\ntype LeftPanelProps = {\r\n  selected: string;\r\n};\r\n\r\nconst LeftPanel = ({ selected }: LeftPanelProps) => {\r\n  const { dispatch, appSelector } = useRedux();\r\n  const { teamList, currentTeam } = appSelector((state) => ({\r\n    teamList: state.Team.teamList,\r\n    currentTeam: state.Team.currentTeam,\r\n  }));\r\n\r\n  return (\r\n    <>\r\n      {currentTeam && (\r\n        <Dropdown className=\"mb-3\">\r\n          <Dropdown.Toggle className=\"w-100\">\r\n            <i className=\"mdi me-1\"></i> {currentTeam.name}\r\n          </Dropdown.Toggle>\r\n          <Dropdown.Menu className=\"w-100\">\r\n            {teamList.map((team: Team) => {\r\n              return (\r\n                <Dropdown.Item\r\n                  key={team.id}\r\n                  onClick={() => {\r\n                    dispatch(readTeam(team.id));\r\n                  }}\r\n                  active={team.id === currentTeam.id ? true : false}\r\n                >\r\n                  <i className=\"\"></i> {team.name}\r\n                </Dropdown.Item>\r\n              );\r\n            })}\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      )}\r\n      <div className=\"email-menu-list\">\r\n        <Link to=\"/settings/user\" className={selected === 'personal' ? 'active text-primary' : ''}>\r\n          <i className=\"mdi mdi-account-outline font-18 align-middle me-2\"></i>Personal Profile\r\n        </Link>\r\n        <Link to=\"/settings/team\" className={selected === 'team' ? 'active text-primary' : ''}>\r\n          <i className=\"mdi mdi-account-group-outline font-18 align-middle me-2\"></i>Team Profile\r\n        </Link>\r\n        <Link to=\"/settings/create-team\">\r\n          <i className=\"mdi mdi-plus font-18 align-middle me-2\"></i>Create Team\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LeftPanel;\r\n","import { Button, Form } from 'react-bootstrap';\r\nimport TimezoneSelect from 'react-timezone-select';\r\nimport { FormInput } from 'components';\r\nimport { usePersonalSettings } from './hooks';\r\nimport { useState } from 'react';\r\nimport { useRedux } from 'hooks';\r\n\r\nconst PersonalInfoForm: React.FC = () => {\r\n  const { appSelector } = useRedux();\r\n\r\n  const { user } = appSelector((state) => ({\r\n    user: state.Auth.user,\r\n  }));\r\n\r\n  const { userFullname, onSubmitProfileInfo } = usePersonalSettings();\r\n  const [selectedTimezone, setSelectedTimezone] = useState(\r\n    user.timeZone\r\n      ? { value: user.timeZone, label: '' }\r\n      : { value: Intl.DateTimeFormat().resolvedOptions().timeZone, label: '' }\r\n  );\r\n  return (\r\n    <form onSubmit={onSubmitProfileInfo}>\r\n      <FormInput\r\n        label=\"Full Name\"\r\n        type=\"text\"\r\n        name=\"fullname\"\r\n        containerClass={'mb-3'}\r\n        key=\"fullname\"\r\n        placeholder={userFullname}\r\n      />\r\n      <FormInput label=\"Company Name\" type=\"text\" name=\"companyName\" containerClass={'mb-3'} key=\"companyName\" />\r\n      <FormInput label=\"Role\" type=\"text\" name=\"role\" containerClass={'mb-3'} key=\"role\" />\r\n      <Form.Label htmlFor=\"timezone\">Timezone</Form.Label>\r\n      <Form.Control type=\"hidden\" id=\"timezone\" aria-describedby=\"timezone\" value={selectedTimezone.value} />\r\n      <div className=\"mb-3\">\r\n        <TimezoneSelect value={selectedTimezone.value} onChange={setSelectedTimezone} />\r\n      </div>\r\n      <Button color=\"primary\" type=\"submit\">\r\n        Save Changes\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonalInfoForm;\r\n","import { Button } from 'react-bootstrap';\r\nimport { usePersonalSettings } from './hooks';\r\n\r\nconst PersonalImageForm: React.FC = () => {\r\n  const { previewImage, fileInput, onChangeProfileImage, onSaveProfileImage, onCancelChangeProfileImage } =\r\n    usePersonalSettings();\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: 190, position: 'relative' }}>\r\n        <p className=\"mb-1\" style={{ fontWeight: '600' }}>\r\n          Profile Image\r\n        </p>\r\n        <div className=\"overlay-container\">\r\n          <img\r\n            src={previewImage}\r\n            alt=\"profile preview\"\r\n            className=\"rounded ratio ratio-1x1\"\r\n            style={{ position: 'absolute', width: 150, height: 150, cursor: 'pointer' }}\r\n            referrerPolicy=\"no-referrer\"\r\n          />\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/png\"\r\n            style={{ display: 'none' }}\r\n            name=\"profileImage\"\r\n            onChange={onChangeProfileImage}\r\n            ref={fileInput}\r\n          />\r\n          <div\r\n            className=\"overlay rounded\"\r\n            onClick={() => {\r\n              if (fileInput.current) {\r\n                fileInput.current.click();\r\n              }\r\n            }}>\r\n            <div className=\"overlay-text\">click to upload</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Button className=\"me-2\" onClick={onSaveProfileImage}>\r\n        Save\r\n      </Button>\r\n      <Button className=\"btn btn-secondary\" onClick={onCancelChangeProfileImage}>\r\n        Cancel\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonalImageForm;\r\n","import { Row, Col, Card } from 'react-bootstrap';\r\nimport LeftPanel from './LeftPanel';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PersonalInfoForm from './PersonalInfoForm';\r\nimport PersonalImageForm from './PersonalImageForm';\r\n\r\nconst PersonalSettings = () => {\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <div className=\"page-title-box\">\r\n            <h4 className=\"page-title\">Settings</h4>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <Card>\r\n            <Card.Body>\r\n              <div className=\"page-aside-left\">\r\n                <LeftPanel selected=\"personal\" />\r\n              </div>\r\n\r\n              <div className=\"page-aside-right\">\r\n                <h4 className=\"mb-3\">Change Personal Information</h4>\r\n                <Row>\r\n                  <Col md={7}>\r\n                    <PersonalInfoForm />\r\n                  </Col>\r\n                  <Col md={{ span: 3, offset: 2 }}>\r\n                    <PersonalImageForm />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n      <ToastContainer\r\n        position=\"bottom-center\"\r\n        autoClose={3000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonalSettings;\r\n","import { toast } from 'react-toastify';\r\nimport {\r\n  updateProfileInfo as updateProfileInfoAPI,\r\n  createProfileImage as createProfileImageAPI,\r\n  uploadProfileImage as uploadProfileImageAPI,\r\n} from 'helpers';\r\nimport { useRef, useState } from 'react';\r\nimport { useRedux } from 'hooks';\r\n\r\nconst usePersonalSettings = () => {\r\n  const { appSelector } = useRedux();\r\n\r\n  const { user } = appSelector((state) => ({\r\n    user: state.Auth.user,\r\n  }));\r\n\r\n  const [userFullname, setUserFullname] = useState<string>(user.fullname);\r\n  const [previewImage, setPreviewImage] = useState<string>(user.profileImageUrl);\r\n  const [profileImageFile, setProfileImageFile] = useState<null | File>();\r\n\r\n  const fileInput = useRef<HTMLInputElement>(null);\r\n\r\n  const onSubmitProfileInfo = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    let fullname = ((e.target as HTMLFormElement).elements.namedItem('fullname') as HTMLInputElement).value;\r\n    fullname = fullname === '' ? user.fullname : fullname;\r\n    let timezone = ((e.target as HTMLFormElement).elements.namedItem('timezone') as HTMLInputElement).value;\r\n    timezone = timezone === '' ? user.timeZone : timezone;\r\n    const fcmRegistrationToken = sessionStorage.getItem('fcmRegistrationToken');\r\n    await updateProfileInfoAPI({ fullname, timezone, fcmRegistrationToken });\r\n    setUserFullname(fullname);\r\n    user.fullname = fullname;\r\n    user.timeZone = timezone;\r\n    sessionStorage.setItem('asyncrum_user', JSON.stringify(user));\r\n    (e.target as HTMLFormElement).reset();\r\n    changeInfoNotify();\r\n  };\r\n\r\n  const onChangeProfileImage = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    if (!e.target.files) {\r\n      setPreviewImage(user.profileImageUrl);\r\n      return;\r\n    } else {\r\n      setProfileImageFile(e.target.files[0]);\r\n    }\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = () => {\r\n      if (reader.readyState === 2) {\r\n        setPreviewImage(reader.result as string);\r\n      }\r\n    };\r\n\r\n    reader.readAsDataURL(e.target.files[0]);\r\n  };\r\n\r\n  const onSaveProfileImage = async (e: React.MouseEvent<HTMLElement>) => {\r\n    e.preventDefault();\r\n    if (!profileImageFile) {\r\n      return;\r\n    } else {\r\n      const createProfileImageAPIResponse = await createProfileImageAPI();\r\n      const presignedURL = createProfileImageAPIResponse.data.preSignedURL;\r\n      await uploadProfileImageAPI(presignedURL, profileImageFile);\r\n      changeImageNotify();\r\n    }\r\n  };\r\n\r\n  const onCancelChangeProfileImage = () => {\r\n    setPreviewImage(user.profileImageUrl);\r\n    setProfileImageFile(null);\r\n  };\r\n\r\n  const changeInfoNotify = () => toast(<div>Personal information changed successfully!</div>);\r\n\r\n  const changeImageNotify = () =>\r\n    toast(\r\n      <div>\r\n        Profile image saved successfully!\r\n        <br />\r\n        The change might take a few minutes to be applied.\r\n      </div>\r\n    );\r\n\r\n  return {\r\n    userFullname,\r\n    previewImage,\r\n    profileImageFile,\r\n    fileInput,\r\n    onSubmitProfileInfo,\r\n    onChangeProfileImage,\r\n    onSaveProfileImage,\r\n    onCancelChangeProfileImage,\r\n  };\r\n};\r\n\r\nexport default usePersonalSettings;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useRedux, useToggle } from 'hooks';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  createLogoImage as createLogoImageAPI,\r\n  uploadLogoImage as uploadLogoImageAPI,\r\n  inviteMember as inviteMemberAPI,\r\n} from 'helpers';\r\nimport { createTeam, readTeam, updateTeam, leaveTeam } from 'redux/actions';\r\nimport { Invitation } from '../types';\r\nimport defaultImage from 'assets/images/asyncrum-logo-small.png';\r\n\r\nconst useTeamSettings = () => {\r\n  const { dispatch, appSelector } = useRedux();\r\n\r\n  const { user, currentTeam } = appSelector((state) => ({\r\n    user: state.Auth.user,\r\n    currentTeam: state.Team.currentTeam,\r\n  }));\r\n\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [previewImage, setPreviewImage] = useState<string>(currentTeam?.pictureUrl);\r\n  const [logoImageFile, setLogoImageFile] = useState<null | File>();\r\n  const [isDeleteOpen, toggleDelete] = useToggle();\r\n\r\n  const fileInput = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (currentTeam) {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setPreviewImage(currentTeam?.pictureUrl);\r\n  }, [currentTeam]);\r\n\r\n  const onCreateTeam = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const name = ((e.target as HTMLFormElement).elements.namedItem('name') as HTMLInputElement).value;\r\n    const code = name.slice(0, 3) + Date.now();\r\n    dispatch(createTeam(name, code));\r\n  };\r\n\r\n  const onSubmitTeamInfo = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!currentTeam) {\r\n      return;\r\n    }\r\n    const name = ((e.target as HTMLFormElement).elements.namedItem('name') as HTMLInputElement).value;\r\n    dispatch(updateTeam(currentTeam.id, name));\r\n    (e.target as HTMLFormElement).reset();\r\n    changeInfoNotify();\r\n  };\r\n\r\n  const onChangeLogoImage = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    if (!e.target.files) {\r\n      setPreviewImage(currentTeam?.pictureUrl);\r\n      return;\r\n    } else {\r\n      setLogoImageFile(e.target.files[0]);\r\n    }\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = () => {\r\n      if (reader.readyState === 2) {\r\n        setPreviewImage(reader.result as string);\r\n      }\r\n    };\r\n\r\n    reader.readAsDataURL(e.target.files[0]);\r\n  };\r\n\r\n  const onSaveLogoImage = async (e: React.MouseEvent<HTMLElement>) => {\r\n    e.preventDefault();\r\n    if (!logoImageFile || !currentTeam) {\r\n      return;\r\n    } else {\r\n      const createLogoImageAPIResponse = await createLogoImageAPI(currentTeam.id);\r\n      const presignedURL = createLogoImageAPIResponse.data.preSignedURL;\r\n      await uploadLogoImageAPI(presignedURL, logoImageFile);\r\n      dispatch(readTeam(currentTeam.id));\r\n      changeImageNotify();\r\n    }\r\n  };\r\n\r\n  const onCancelChangeLogoImage = () => {\r\n    setPreviewImage(currentTeam?.pictureUrl ? currentTeam?.pictureUrl : defaultImage);\r\n    setLogoImageFile(null);\r\n  };\r\n\r\n  const onInvite = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!currentTeam) {\r\n      return;\r\n    }\r\n    const email = ((e.target as HTMLFormElement).elements.namedItem('email') as HTMLInputElement).value;\r\n    const invitationData: Invitation = {\r\n      memberId: null,\r\n      memberEmail: email,\r\n    };\r\n    await inviteMemberAPI(currentTeam.id, invitationData);\r\n    (e.target as HTMLFormElement).reset();\r\n    invitationNotify(email);\r\n  };\r\n\r\n  const onLeaveTeam = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    dispatch(leaveTeam(currentTeam.id, user.id));\r\n  };\r\n\r\n  const changeInfoNotify = () => {\r\n    toast(<div>Team Information changed successfully!</div>);\r\n  };\r\n\r\n  const changeImageNotify = () =>\r\n    toast(\r\n      <div>\r\n        Team logo saved successfully!\r\n        <br />\r\n        The change might take a few minutes to be applied.\r\n      </div>\r\n    );\r\n\r\n  const invitationNotify = (email: string) =>\r\n    toast(\r\n      <div>\r\n        Invitation sent to <b>{email}</b>!\r\n      </div>\r\n    );\r\n\r\n  const closeModalAfterFunction = (\r\n    f: (e: React.FormEvent<HTMLFormElement>) => void,\r\n    event: React.FormEvent<HTMLFormElement>,\r\n    toggle: () => void\r\n  ) => {\r\n    f(event);\r\n    toggle();\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    previewImage,\r\n    defaultImage,\r\n    logoImageFile,\r\n    fileInput,\r\n    isDeleteOpen,\r\n    setPreviewImage,\r\n    onCreateTeam,\r\n    onSubmitTeamInfo,\r\n    onChangeLogoImage,\r\n    onSaveLogoImage,\r\n    onCancelChangeLogoImage,\r\n    onInvite,\r\n    onLeaveTeam,\r\n    toggleDelete,\r\n    closeModalAfterFunction,\r\n  };\r\n};\r\n\r\nexport default useTeamSettings;\r\n"],"names":["selected","useRedux","dispatch","appSelector","state","teamList","Team","currentTeam","className","name","map","team","onClick","readTeam","id","active","to","user","Auth","usePersonalSettings","userFullname","onSubmitProfileInfo","useState","timeZone","value","label","Intl","DateTimeFormat","resolvedOptions","selectedTimezone","setSelectedTimezone","onSubmit","type","containerClass","placeholder","Form","htmlFor","onChange","Button","color","previewImage","fileInput","onChangeProfileImage","onSaveProfileImage","onCancelChangeProfileImage","style","height","position","fontWeight","src","alt","width","cursor","referrerPolicy","accept","display","ref","current","click","Row","Col","Card","LeftPanel","md","span","offset","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","fullname","setUserFullname","profileImageUrl","setPreviewImage","profileImageFile","setProfileImageFile","useRef","e","preventDefault","target","elements","namedItem","timezone","fcmRegistrationToken","sessionStorage","getItem","updateProfileInfoAPI","setItem","JSON","stringify","reset","changeInfoNotify","createProfileImageAPI","createProfileImageAPIResponse","presignedURL","data","preSignedURL","uploadProfileImageAPI","changeImageNotify","toast","files","reader","FileReader","onload","readyState","result","readAsDataURL","loading","setLoading","pictureUrl","logoImageFile","setLogoImageFile","useToggle","isDeleteOpen","toggleDelete","useEffect","onCreateTeam","code","slice","Date","now","createTeam","onSubmitTeamInfo","updateTeam","onSaveLogoImage","createLogoImageAPI","createLogoImageAPIResponse","uploadLogoImageAPI","onInvite","email","invitationData","memberId","memberEmail","inviteMemberAPI","invitationNotify","defaultImage","onChangeLogoImage","onCancelChangeLogoImage","onLeaveTeam","leaveTeam","closeModalAfterFunction","f","event","toggle"],"sourceRoot":""}