"use strict";(self.webpackChunkasyncrum=self.webpackChunkasyncrum||[]).push([[86],{67556:function(e,n,t){t.r(n),t.d(n,{default:function(){return an}});var r,i,s,o,a,l=t(89743),c=t(2677),d=t(9140),u=t(8476),m=t(95316),h=t(47798),x=t(12576),j=t(43504),p=t(98659),f=t(10765),g=t(80184),b=function(e){var n=e.whiteboard,t=e.onEditWhiteboard,r=e.onDeleteWhiteboard,i=(0,p.ww)().getTimeFromNow,s=(0,p.y1)(),o=s.isEditOpen,a=s.isDeleteOpen,l=s.isReadMore,c=s.toggleEdit,b=s.toggleDelete,v=s.toggleReadMore,k=s.closeModalAfterFunction,Z=(0,(0,f.Sc)().appSelector)((function(e){return{currentTeam:e.Team.currentTeam}})).currentTeam;return(0,g.jsx)(d.Z,{className:"d-block",children:(0,g.jsxs)(d.Z.Body,{children:[(0,g.jsxs)(u.Z,{className:"card-widgets",align:"end",children:[(0,g.jsx)(u.Z.Toggle,{variant:"link",as:"a",className:"card-drop arrow-none cursor-pointer p-0 shadow-none",children:(0,g.jsx)("i",{className:"dripicons-dots-3"})}),(0,g.jsxs)(u.Z.Menu,{children:[(0,g.jsx)(u.Z.Item,{children:"Share"}),(0,g.jsx)(u.Z.Item,{onClick:c,children:"Edit"}),(0,g.jsx)(m.Z,{show:o,onHide:c,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:c,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:"Edit Whiteboard Information"})}),(0,g.jsxs)("form",{className:"ps-3 pe-3",onSubmit:function(e){return k(t,e,c)},children:[(0,g.jsx)("input",{type:"hidden",id:"id",value:n.id}),(0,g.jsxs)("div",{className:"mt-3 mb-3",children:[(0,g.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,g.jsx)("input",{className:"form-control",type:"text",id:"title",maxLength:255,required:!0,placeholder:n.title})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,g.jsx)("input",{className:"form-control",type:"text",id:"description",maxLength:255,required:!0,placeholder:n.description})]}),(0,g.jsx)("div",{className:"mb-3 text-center",children:(0,g.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Edit"})})]})]})}),(0,g.jsx)(u.Z.Item,{children:"Duplicate"}),(0,g.jsx)(u.Z.Item,{className:"text-danger",onClick:b,children:"Delete"}),(0,g.jsx)(m.Z,{show:a,onHide:b,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:b,closeButton:!0,children:(0,g.jsxs)("h4",{className:"modal-title",children:["Delete ",n.title]})}),(0,g.jsx)("p",{className:"mt-4 mb-4 text-center font-weight-bolds",children:"Are you sure you want to delete this whiteboard permanently?"}),(0,g.jsxs)("form",{className:"ps-3 pe-3",onSubmit:function(e){return k(r,e,b)},children:[(0,g.jsx)("input",{type:"hidden",id:"id",value:n.id}),(0,g.jsx)("div",{className:"mb-3 text-center",children:(0,g.jsx)("button",{className:"btn btn-danger",type:"submit",children:"Delete"})})]})]})})]})]}),(0,g.jsx)("h4",{className:"mt-0",children:(0,g.jsx)(j.rU,{to:"/whiteboard?url="+n.whiteboardFileUrl+"&id="+Z.code+"-"+n.id,className:"text-title",children:n.title.length>25?n.title.slice(0,25)+" ...":n.title})}),n.description&&(0,g.jsxs)("p",{className:"font-13 my-3",children:[l?n.description.slice(0,40):n.description,n.description.length>40?(0,g.jsx)("span",{onClick:v,className:"fw-bold text-info",role:"button",children:l?" ...read more":" show less"}):""]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"font-13",children:"Author: "}),(0,g.jsx)(h.Z,{placement:"bottom",overlay:(0,g.jsx)(x.Z,{children:n.author}),children:(0,g.jsx)("img",{src:n.authorProfileImageUrl,className:"rounded-circle avatar-xs",alt:n.author})})]}),(0,g.jsxs)("p",{className:"text-muted text-end font-12 mt-3 mb-1",children:["Last modified: ",i(n.lastModifiedDate)]})]})})},v=t(43360),k=function(){var e=(0,p.T0)(),n=e.isCreateWhiteboardOpen,t=e.toggleCreateWhiteboard,r=e.onCreateWhiteboard;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(v.Z,{onClick:t,children:[(0,g.jsx)("i",{className:"mdi mdi-plus"})," Create Whiteboard"]}),(0,g.jsx)(m.Z,{show:n,onHide:t,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:t,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:"Create a new whiteboard"})}),(0,g.jsxs)("form",{className:"ps-3 pe-3",onSubmit:r,children:[(0,g.jsxs)("div",{className:"mt-3 mb-3",children:[(0,g.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,g.jsx)("input",{className:"form-control",type:"text",id:"title",maxLength:255,required:!0,placeholder:"Untitled"})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,g.jsx)("input",{className:"form-control",type:"textarea",id:"description",maxLength:255,required:!0,placeholder:"Description"})]}),(0,g.jsx)("div",{className:"mb-3 text-center",children:(0,g.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Create"})})]})]})})]})},Z=t(8116),N=function(e){for(var n=e.whiteboardPageNumber,t=e.numberOfWhiteboards,r=e.onPageNumberClick,i=[],s=1;s<=Math.ceil(t/12);s++)i.push((0,g.jsx)(Z.Z.Item,{active:s===n,onClick:r,children:s},s.toString()));return(0,g.jsxs)(Z.Z,{className:"mx-auto",children:[(0,g.jsx)(Z.Z.Prev,{}),i,(0,g.jsx)(Z.Z.Next,{})]})},y=function(){var e=(0,p.T0)(),n=e.whiteboards,t=e.whiteboardLoading,r=e.whiteboardPageNumber,i=e.numberOfWhiteboards,s=e.onPageNumberClick,o=e.onDeleteWhiteboard,a=e.onEditWhiteboard;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{children:(0,g.jsx)("div",{className:"page-title-box",children:(0,g.jsx)("h4",{className:"page-title",children:"Whiteboards"})})})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{})}),(0,g.jsx)(l.Z,{className:"mb-4",children:(0,g.jsx)(c.Z,{sm:4,children:(0,g.jsx)(k,{})})}),!t&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{children:n.map((function(e){return(0,g.jsx)(c.Z,{md:6,xxl:3,children:(0,g.jsx)(b,{whiteboard:e,onEditWhiteboard:a,onDeleteWhiteboard:o})},"wb-"+e.id)}))}),i>12&&(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{className:"d-flex",children:(0,g.jsx)(N,{whiteboardPageNumber:r,numberOfWhiteboards:i,onPageNumberClick:s})})})]})]})},w=t(96766),C=(t(65141),t(1413)),S=t(15861),M=t(29439),E=t(30168),A=t(64687),B=t.n(A),R=t(72791),T=t(52554),D=t(28735),I=t(81070),H=t(47805),U=function(e,n){var t=e.split(":"),r=(0,M.Z)(t,2),i=r[0],s=r[1],o=parseInt(i,10),a=parseInt(s,10),l=o/a,c=a/o,d=n.offsetWidth,u=n.offsetHeight;return u*l<=d?[u*l,u]:[d,d*c]},O=t(72862),L=t(5508),F=function(e){var n=e.playing,t=e.onMount,r=e.scale,i=e.video,s=e.setVideo,o=e.videoBookmark,a=(0,R.useRef)(null),l=(0,R.useRef)(null);function c(e){a.current=e,a.current.setCamera([0,0],r,"layout_mounted"),a.current.style({color:L.HQ.Red}),t(e)}function d(e){null!==o&&!0!==n&&function(e,n,t){var r=e.bookmarks.findIndex((function(e){return e.id===n.id}));s((function(e){return(0,C.Z)((0,C.Z)({},e),{},{bookmarks:e.bookmarks.map((function(e,n){return n===r?(0,C.Z)((0,C.Z)({},e),{},{drawing:t}):e}))})})),o&&(o.drawing=t)}(i,o,e.document)}var u=(0,R.useCallback)((function(){if(null!==a.current){var e=a.current.useStore.getState().appState.activeTool;a.current.deleteAll(),a.current.selectTool(e),a.current.toggleToolLock()}}),[]),m=(0,R.useCallback)((function(){null!==a.current&&a.current.setCamera([0,0],r,"layout_resized")}),[r]);return(0,R.useEffect)((function(){m()}),[r,m]),(0,R.useEffect)((function(){null!==a.current&&(null!==o&&void 0!==o&&o.drawing&&o.drawing?(a.current.loadDocument(JSON.parse(JSON.stringify(o.drawing))),a.current.selectNone(),m()):u())}),[u,m,o]),(0,R.useEffect)((function(){null!==a.current&&!0===n&&u()}),[n,u]),(0,g.jsx)(D.xu,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",ref:l,children:(0,g.jsx)(L.Dr,{onMount:function(e){return c(e)},onPersist:function(e){return d(e)},showUI:!1,style:"{background-color: transparent !important}"})})},P=t(97310),z=t(42654),V=t(89203),W=t(24989),Q=t(15940),G=t(79811),J=t(4942),q=t(4897),_=(r={},(0,J.Z)(r,L.HQ.White,"#f0f1f3"),(0,J.Z)(r,L.HQ.LightGray,"#c6cbd1"),(0,J.Z)(r,L.HQ.Gray,"#788492"),(0,J.Z)(r,L.HQ.Black,"#1d1d1d"),(0,J.Z)(r,L.HQ.Green,"#36b24d"),(0,J.Z)(r,L.HQ.Cyan,"#0e98ad"),(0,J.Z)(r,L.HQ.Blue,"#1c7ed6"),(0,J.Z)(r,L.HQ.Indigo,"#4263eb"),(0,J.Z)(r,L.HQ.Violet,"#7746f1"),(0,J.Z)(r,L.HQ.Red,"#ff2133"),(0,J.Z)(r,L.HQ.Orange,"#ff9433"),(0,J.Z)(r,L.HQ.Yellow,"#ffc936"),r),Y=function(e){var n=e.app,t=(0,R.useState)(!1),r=(0,M.Z)(t,2),i=r[0],s=r[1],o=n.useStore((function(e){return e.appState.currentStyle})),a=(0,R.useCallback)((function(e){n.style({color:e}),s(!1)}),[n]),l=Object.entries(_),c=l.map((function(e){var n=(0,M.Z)(e,2),t=n[0],r=n[1];return(0,g.jsx)(D.xu,{mx:1,my:1,width:"1.5rem",height:"1.5rem",backgroundColor:r,cursor:"pointer",onClick:function(){return a(t)}},t)}));return(0,g.jsxs)(q.J2,{placement:"right",isOpen:i,onClose:function(){return s(!1)},children:[(0,g.jsx)(q.xo,{children:(0,g.jsx)(D.xu,{width:"2rem",height:"2rem",bgColor:_[o.color],cursor:"pointer",onClick:function(){s(!0)}})}),(0,g.jsxs)(q.yk,{width:"".concat(2*l.length,"rem"),children:[(0,g.jsx)(q.QH,{}),(0,g.jsx)(q.b,{backgroundColor:"black",children:(0,g.jsx)(D.kC,{my:-1,mx:-1,children:c})})]})]})},X=(i={},(0,J.Z)(i,L.Zq.Small,"S"),(0,J.Z)(i,L.Zq.Medium,"M"),(0,J.Z)(i,L.Zq.Large,"L"),i),K=function(e){var n=e.app,t=(0,R.useState)(!1),r=(0,M.Z)(t,2),i=r[0],s=r[1],o=n.useStore((function(e){return e.appState.currentStyle})),a=(0,R.useCallback)((function(e){n.style({size:e}),s(!1)}),[n]),l=Object.entries(X),c=l.map((function(e){var n=(0,M.Z)(e,2),t=n[0],r=n[1];return(0,g.jsx)(D.kC,{mx:1,my:1,width:"1.5rem",height:"1.5rem",cursor:"pointer",onClick:function(){return a(t)},align:"center",justify:"center",border:"1px",borderColor:"whiteAlpha.400",background:"whiteAlpha.200",padding:"1rem",children:r},t)}));return(0,g.jsxs)(q.J2,{placement:"right",isOpen:i,onClose:function(){return s(!1)},children:[(0,g.jsx)(q.xo,{children:(0,g.jsx)(D.kC,{width:"2rem",height:"2rem",cursor:"pointer",background:"black",align:"center",justifyContent:"center",border:"1px",borderColor:"whiteAlpha.400",onClick:function(){s(!0)},children:X[o.size].slice(0,1).toUpperCase()})}),(0,g.jsxs)(q.yk,{width:"".concat(3*l.length,"rem"),children:[(0,g.jsx)(q.QH,{}),(0,g.jsx)(q.b,{backgroundColor:"black",children:(0,g.jsx)(D.kC,{my:-1,mx:-1,children:c})})]})]})},$=t(14867),ee=t(10268),ne=t(36496),te=(s={},(0,J.Z)(s,L.g6.Draw,[(0,g.jsx)(Q.Z,{}),"Line"]),(0,J.Z)(s,L.g6.Solid,[(0,g.jsx)($.Z,{}),"Filled"]),(0,J.Z)(s,L.g6.Dashed,[(0,g.jsx)(ee.Z,{}),"Dashed"]),(0,J.Z)(s,L.g6.Dotted,[(0,g.jsx)(ne.Z,{}),"Dotted"]),s);function re(e){var n=e.app,t=R.useState(!1),r=(0,M.Z)(t,2),i=r[0],s=r[1],o=n.useStore((function(e){return e.appState.currentStyle})),a=R.useCallback((function(e){n.style({dash:e}),s(!1)}),[n]),l=Object.entries(te),c=l.filter((function(e){return(0,M.Z)(e,1)[0]!==L.g6.Solid})).map((function(e){var n=(0,M.Z)(e,2),t=n[0],r=(0,M.Z)(n[1],2),i=r[0],s=r[1];return(0,g.jsx)(D.kC,{mx:1,my:1,width:"3rem",height:"2.5rem",cursor:"pointer",onClick:function(){return a(t)},align:"center",justify:"center",border:"1px",borderColor:"whiteAlpha.400",background:"whiteAlpha.200",boxSizing:"border-box",children:(0,g.jsx)(I.u,{label:s,children:(0,g.jsx)(D.xu,{children:i})})},t)}));return(0,g.jsxs)(q.J2,{placement:"right",isOpen:i,onClose:function(){return s(!1)},children:[(0,g.jsx)(q.xo,{children:(0,g.jsx)(D.kC,{width:"2rem",height:"2rem",cursor:"pointer",background:"black",align:"center",justifyContent:"center",border:"1px",borderColor:"whiteAlpha.400",onClick:function(){s(!0)},children:te[o.dash][0]})}),(0,g.jsxs)(q.yk,{width:"".concat(2.5*l.length,"rem"),children:[(0,g.jsx)(q.QH,{}),(0,g.jsx)(q.b,{backgroundColor:"black",children:(0,g.jsx)(D.kC,{my:-1,mx:-1,children:c})})]})]})}var ie=(0,T.iv)(o||(o=(0,E.Z)(["\n  opacity: 1;\n"]))),se=(0,T.iv)(a||(a=(0,E.Z)(["\n  opacity: 0.5;\n"]))),oe=function(e){var n=e.app,t=n.useStore((function(e){return e.appState.activeTool})),r=R.useCallback((function(e){n.selectTool(e),n.toggleToolLock()}),[n]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(D.xu,{children:(0,g.jsxs)(D.gC,{spacing:4,children:[(0,g.jsx)(I.u,{label:"Select","aria-label":"Select",children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(P.Z,{}),"aria-label":"Select",css:"select"===t?ie:se,onClick:function(){return r("select")}})}),(0,g.jsx)(I.u,{label:"Pencil","aria-label":"Pencil",children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(z.Z,{}),"aria-label":"Pencil",css:t===L.Uc.Draw?ie:se,onClick:function(){return r(L.Uc.Draw)}})}),(0,g.jsx)(I.u,{label:"Arrow","aria-label":"Arrow",children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(V.Z,{}),"aria-label":"Arrow",css:t===L.Uc.Arrow?ie:se,onClick:function(){return r(L.Uc.Arrow)}})}),(0,g.jsx)(I.u,{label:"Rectangle","aria-label":"Rectangle",children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(W.Z,{}),"aria-label":"Rectangle",css:t===L.Uc.Rectangle?ie:se,onClick:function(){return r(L.Uc.Rectangle)}})}),(0,g.jsx)(I.u,{label:"Ellipse","aria-label":"Ellipse",children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(Q.Z,{}),"aria-label":"Ellipse",css:t===L.Uc.Ellipse?ie:se,onClick:function(){return r(L.Uc.Ellipse)}})})]})}),(0,g.jsx)(D.kC,{mt:4,pt:4,borderTop:"1px",borderColor:"whiteAlpha.300",justify:"center",children:(0,g.jsxs)(D.xu,{children:[(0,g.jsx)(D.xu,{children:(0,g.jsx)(Y,{app:n})}),(0,g.jsx)(D.xu,{mt:4,children:(0,g.jsx)(K,{app:n})}),(0,g.jsx)(D.xu,{mt:4,children:(0,g.jsx)(re,{app:n})})]})}),(0,g.jsx)(D.kC,{mt:4,pt:4,borderTop:"1px",borderColor:"whiteAlpha.300",justify:"center",children:(0,g.jsx)(D.xu,{children:(0,g.jsx)(H.hU,{icon:(0,g.jsx)(G.Z,{}),"aria-label":"Arrow",css:ie,onClick:function(){return n.deleteAll()}})})})]})},ae=t(59962),le=t.n(ae),ce=t(64241),de=t(83183),ue=t(93393),me=t(26123),he=t(26638),xe=t(24122);function je(e){var n=e.bookmark,t=e.onChangeContent,r=e.onChangeIcon,i=e.currentEmoji,s=(0,R.useState)(!1),o=(0,M.Z)(s,2),a=o[0],l=o[1],c=(0,R.useState)(null),d=(0,M.Z)(c,2),u=d[0],m=d[1],h=(0,R.useState)(null),x=(0,M.Z)(h,2),j=x[0],p=x[1],f=(0,ce.D)(u,j,{placement:"left",modifiers:[{name:"offset",options:{offset:[20,20]}},{name:"flip",options:{fallbackPlacements:["top","left","bottom","right"]}}]}),b=f.styles,v=f.attributes,k=(0,R.useCallback)((function(e){l(!1),r(e)}),[r]);return(0,de.y1)("esc",(function(){l(!1)}),{},[l]),(0,g.jsxs)("form",{children:[(0,g.jsxs)(ue.NI,{mb:4,children:[(0,g.jsx)(ue.lX,{children:"Icon"}),(0,g.jsx)(D.kC,{align:"center",bgColor:"gray.800",height:"10",justify:"center",rounded:"xl",width:"10",fontSize:"lg",cursor:"pointer",ref:m,onClick:function(){l(!a)},children:i}),a&&(0,g.jsx)(D.xu,(0,C.Z)((0,C.Z)({ref:p,zIndex:"1",style:b.popper},v.popper),{},{children:(0,g.jsx)(xe.Z,{data:he,onEmojiSelect:function(e){return k(e)}})}))]}),(0,g.jsxs)(ue.NI,{children:[(0,g.jsx)(ue.lX,{children:"Description"}),(0,g.jsx)(me.g,{value:n.content,onChange:function(e){t(e.target.value)},autoFocus:!0})]})]})}var pe=t(34358),fe=t(81694),ge=t.n(fe);t(61134),t(81724),t(61265);var be,ve=t(27818),ke=function(){return(0,g.jsx)("form",{name:"chat-form",id:"chat-form",className:"needs-validation m-3",children:(0,g.jsx)(l.Z,{children:(0,g.jsx)(ve.nR,{})})})},Ze=function(e){var n=e.userAvatar,t=e.postedOn,r=(0,p.ww)().getTimeFromNow;return(0,g.jsxs)("div",{className:"chat-avatar",children:[(0,g.jsx)("img",{src:n,alt:n}),(0,g.jsx)("i",{children:r(t)})]})},Ne=function(e){var n=e.userName,t=e.videoUrl,r=e.index,i=e.playIndex,s=e.onEnded;return(0,g.jsx)("div",{className:"conversation-text",children:(0,g.jsxs)("div",{className:"ctext-wrap",children:[(0,g.jsx)("i",{children:n}),(0,g.jsx)("video",{src:t,autoPlay:i===r,width:"200px",height:"150px",onEnded:function(){return s(r+1)},controls:!0})]})})},ye=function(e){var n=e.children,t=e.placement,r=e.className;return(0,g.jsx)("li",{className:ge()("clearfix",{odd:"left"===t},r),children:n})},we=function(e){var n=e.chatMessages,t=e.className,r=function(e){var n=(0,R.useState)(e),t=(0,M.Z)(n,2),r=t[0],i=t[1];return{messages:r,handleNewMessagePosted:function(e){i(r.concat(e))}}}(n),i=r.messages,s=(0,R.useState)(0),o=(0,M.Z)(s,2),a=o[0],l=o[1],c=function(e){l(e)};return(0,g.jsx)(d.Z,{className:"mb-0 bg-transparent",children:(0,g.jsxs)(d.Z.Body,{className:"p-0",children:[(0,g.jsx)("div",{className:"px-3 pt-3",children:(0,g.jsx)(ve.ll,{containerClass:"d-flex align-items-center justify-content-between mb-2",title:"Thread",menuItems:[{label:"Refresh"},{label:"Settings"}]})}),(0,g.jsxs)("div",{className:"chat-conversation",children:[(0,g.jsx)(pe.Z,{style:{maxHeight:"322px",width:"100%"},children:(0,g.jsx)("ul",{className:ge()("conversation-list",t,"px-3"),children:(i||[]).map((function(e,n){return(0,g.jsxs)(ye,{placement:n>0?n%2===0?"":"left":"right",children:[e.profileImageUrl&&(0,g.jsx)(Ze,{userAvatar:e.profileImageUrl,postedOn:e.createdDate}),(0,g.jsx)(Ne,{userName:e.author,videoUrl:e.commentFileUrl,index:n,playIndex:a,onEnded:c},a)]},n.toString())}))})}),(0,g.jsx)(ke,{})]})]})})},Ce=(0,T.iv)(be||(be=(0,E.Z)(["\n  cursor: move;\n  height: 2rem;\n  background: repeating-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.05),\n    rgba(255, 255, 255, 0.05) 10px,\n    rgba(255, 255, 255, 0.1) 10px,\n    rgba(255, 255, 255, 0.1) 20px\n  );\n"])));function Se(e){var n=e.video,t=e.bookmark,r=e.setActiveBookmark,i=e.scale,s=e.playing,o=e.editingBookmark,a=e.setEditingBookmark,l=e.setVideo,c=e.comments;if(!0===s)return null;if(!t)return null;var d=(0,R.useState)(t.icon),u=(0,M.Z)(d,2),m=u[0],h=u[1],x=function(){l((function(e){return(0,C.Z)((0,C.Z)({},e),{},{bookmarks:e.bookmarks.filter((function(e){return t.id!==e.id}))})})),(0,O.Tc)(parseInt(t.id))},j=i/t.scale,p=t.position?{x:t.position.x*j,y:t.position.y*j}:void 0,f=!0===o?(0,g.jsx)(je,{onChangeContent:function(e){return function(e){var r=n.bookmarks.findIndex((function(e){return e.id===t.id}));l((function(n){return(0,C.Z)((0,C.Z)({},n),{},{bookmarks:n.bookmarks.map((function(n,t){return t===r?(0,C.Z)((0,C.Z)({},n),{},{content:e}):n}))})})),n.bookmarks[r].content=e,t.content=e}(e)},onChangeIcon:function(e){return function(e){var r=n.bookmarks.findIndex((function(e){return e.id===t.id})),i="";void 0!==e.native.codePointAt(0)&&(i=e.native.codePointAt(0).toString(16));var s=String.fromCodePoint(parseInt("0x"+i));l((function(e){return(0,C.Z)((0,C.Z)({},e),{},{bookmarks:e.bookmarks.map((function(e,n){return n===r?(0,C.Z)((0,C.Z)({},e),{},{icon:s}):e}))})})),t.icon=s,h(s)}(e)},bookmark:t,currentEmoji:m}):(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{children:"Bookmark"}),(0,g.jsxs)(D.xv,{style:{whiteSpace:"pre-wrap"},children:[t.icon," ",t.content]})]}),b=o?(0,g.jsx)(H.zx,{onClick:function(){a(!1);var e="";void 0!==t.icon.codePointAt(0)&&(e=t.icon.codePointAt(0).toString(16));var n=e,r=t.content,i=t.time,s=t.position?t.position:{x:0,y:0},o=JSON.stringify(t.drawing),l=t.scale,c=t.author;(0,O.sS)(parseInt(t.id),{emoji:n,content:r,time:i,position:s,drawing:o,scale:l,author:c})},children:"Done"}):(0,g.jsx)(H.zx,{onClick:function(){return a(!0)},children:"Edit"});return(0,g.jsx)(D.kC,{position:"absolute",left:0,top:0,right:0,bottom:0,align:"flex-end",justify:"flex-end",padding:"4",pointerEvents:"none",zIndex:3,children:(0,g.jsx)(le(),{onStop:function(e,r){return function(e){var r=n.bookmarks.findIndex((function(e){return e.id===t.id}));l((function(n){return(0,C.Z)((0,C.Z)({},n),{},{bookmarks:n.bookmarks.map((function(n,t){return t===r?(0,C.Z)((0,C.Z)({},n),{},{position:{x:e.x,y:e.y},scale:i}):n}))})}))}({x:r.x,y:r.y})},bounds:"parent",handle:"#dragHandle",position:p,children:(0,g.jsxs)(D.xu,{pointerEvents:"all",background:"blackAlpha.900",width:"md",children:[(0,g.jsx)(D.xu,{id:"dragHandle",css:Ce}),f&&(0,g.jsx)(D.xu,{padding:"4",borderBottom:"1px",borderColor:"whiteAlpha.500",children:f}),(0,g.jsx)(we,{chatMessages:c}),(0,g.jsxs)(D.kC,{padding:"4",children:[(0,g.jsx)(D.LZ,{}),(0,g.jsxs)(H.hE,{size:"sm",children:[(0,g.jsx)(H.zx,{onClick:function(){return t&&x(),a(!1),void r(null)},colorScheme:"red",children:"Delete"}),b]}),(0,g.jsx)(D.LZ,{})]})]})},t.id)})}var Me=function(e){return[Math.floor(e/3600),Math.floor(e/60)%60,e%60].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,n){return"00"!==e||n>0})).join(":")},Ee=function(e){var n=e.currentTime,t=e.fullDuration;return(0,g.jsxs)(D.xv,{whiteSpace:"nowrap",fontSize:"sm",align:"center",my:"auto",mb:"1",children:[Me(Math.round(n))," / ",Me(Math.round(t))]})},Ae=t(61022),Be=t(8045);function Re(e){var n=e.video,t=e.bookmark,r=e.size,i=void 0===r?"medium":r,s=e.setCurrentTime,o=e.setActiveBookmark,a=e.pauseVideo;var l,c,d=t.icon?t.icon:(0,g.jsx)(Be.Z,{size:"medium"===i?25:20,color:"medium"===i?"#eee":"#999"});return(0,g.jsx)(I.u,{label:"".concat(t.author,": ").concat((l=t.content,c=50,l.length>c?"".concat(l.substring(0,c),"..."):l)),children:(0,g.jsx)(D.xu,{onClick:function(){return a(),s(t.time),n.el.currentTime=t.time,o(t),void sessionStorage.setItem("currentBookmarkId",t.id)},cursor:"pointer",children:d})})}var Te=function(e){var n=e.video,t=e.fullDuration,r=e.currentTime,i=e.setCurrentTime,s=e.setActiveBookmark,o=e.pauseVideo,a=e.camVideoRef,l=(0,R.useRef)(null),c=(0,R.useState)([]),d=(0,M.Z)(c,2),u=d[0],m=d[1],h=(0,R.useState)(null),x=(0,M.Z)(h,2),j=x[0],p=x[1],f=function(){m(null===j||0===t?[]:n.bookmarks.map((function(e){var r=e.time/t,a=j.width*r;return(0,g.jsx)(D.kC,{bgColor:"gray.800",position:"absolute",width:"2rem",height:"2rem",align:"center",justify:"center",top:"-7px",left:"calc(".concat(a,"px - 1rem)"),rounded:"full",zIndex:"1",children:(0,g.jsx)(Re,{video:n,bookmark:e,size:"medium",setCurrentTime:i,setActiveBookmark:s,pauseVideo:o})},e.id)})))};return(0,R.useLayoutEffect)((function(){function e(){null!==l.current&&(p(l.current.getBoundingClientRect()),f())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),(0,R.useEffect)((function(){l.current&&(null===j||l.current.getBoundingClientRect().width<j.width)&&p(l.current.getBoundingClientRect()),f()}),[n.bookmarks,t,j]),(0,g.jsxs)(D.xu,{position:"relative",children:[u,(0,g.jsxs)(Ae.iR,{"aria-label":"Time control",focusThumbOnChange:!1,max:t,min:0,top:"1px",onChange:function(e){return i(t=e),n.el.currentTime=t,void(a.current.currentTime=t);var t},step:1/n.frameRate,value:r,children:[(0,g.jsx)(Ae.Uj,{className:"track",ref:l,children:(0,g.jsx)(Ae.Ms,{})}),(0,g.jsx)(Ae.gs,{})]},"playing")]})},De=t(43834);function Ie(e){var n=e.video,t=e.setCurrentVolume;return(0,g.jsxs)(D.kC,{align:"center",width:"7rem",children:[(0,g.jsx)(D.xu,{mb:1,children:(0,g.jsx)(De.Z,{})}),(0,g.jsxs)(Ae.iR,{"aria-label":"Video volume control",value:n.el.volume,min:0,max:1,onChange:function(e){return function(e){t(e),n.el.volume=e}(e)},step:.01,focusThumbOnChange:!1,ml:2,mb:1,children:[(0,g.jsx)(Ae.Uj,{children:(0,g.jsx)(Ae.Ms,{})}),(0,g.jsx)(Ae.gs,{})]},"playing")]})}var He=t(93433),Ue=(new(t(97565).u)).getLoggedInUser();function Oe(e,n,t,r,i,s){return{content:t,drawing:JSON.parse(JSON.stringify(s)),id:"",icon:n,position:null,scale:i,time:r,video_id:e.id,author:Ue.fullname,comments:[]}}function Le(e){var n=e.app,t=e.disabled,r=e.scale,i=e.video,s=e.currentTime,o=e.setVideo,a=e.setEditingBookmark,l=e.setActiveBookmark,c=e.pauseVideo;var d=function(){var e=(0,S.Z)(B().mark((function e(n,t,r,i,s,o,a){var c,d,u,m,h,x;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Oe(n,r,i,s,o,a),d=JSON.stringify(a),u=n.id,m=c.position?c.position:{x:0,y:0},h="",void 0!==c.icon.codePointAt(0)&&(h=c.icon.codePointAt(0).toString(16)),e.next=8,(0,O.Ke)({recordId:u,emoji:h,content:i,time:s,position:m,drawing:d,scale:o,author:c.author});case 8:x=e.sent,c.id=x.data.id,t((function(e){return(0,C.Z)((0,C.Z)({},e),{},{bookmarks:[].concat((0,He.Z)(e.bookmarks),[c])})})),l(c);case 12:case"end":return e.stop()}}),e)})));return function(n,t,r,i,s,o,a){return e.apply(this,arguments)}}();return(0,g.jsx)(I.u,{label:"Bookmark this moment (active when paused)",children:(0,g.jsx)(D.xu,{children:(0,g.jsx)(H.hU,{onClick:function(){return c(),d(i,o,"\ud83d\udd16","",s,r,n.document),void a(!0)},icon:(0,g.jsx)(Be.Z,{}),"aria-label":"Bookmark this moment",disabled:t})})})}var Fe,Pe,ze=t(37037),Ve=t(48434),We=t(86774),Qe=1280,Ge=(0,T.iv)(Fe||(Fe=(0,E.Z)(["\n  width: ","px;\n  height: ","px;\n"])),Qe,720),Je=(0,T.iv)(Pe||(Pe=(0,E.Z)(["\n  video {\n    width: ","px;\n    height: ","px;\n  }\n"])),Qe,720),qe=function(e){var n=e.id,t=e.cam,r=(0,R.useState)(),i=(0,M.Z)(r,2),s=i[0],o=i[1],a=(0,R.useState)(!0),l=(0,M.Z)(a,2),c=l[0],d=l[1],u=(0,R.useState)(!0),m=(0,M.Z)(u,2),h=m[0],x=m[1],j=(0,R.useState)({}),p=(0,M.Z)(j,2),f=p[0],b=p[1],v=(0,R.useState)(null),k=(0,M.Z)(v,2),Z=(k[0],k[1]),N=(0,R.useState)(0),y=(0,M.Z)(N,2),w=y[0],E=y[1],A=(0,R.useState)(0),T=(0,M.Z)(A,2),L=T[0],P=T[1],z=(0,R.useState)(.8),V=(0,M.Z)(z,2),W=(V[0],V[1]),Q=(0,R.useState)(!1),G=(0,M.Z)(Q,2),J=G[0],q=G[1],_=(0,R.useState)(!1),Y=(0,M.Z)(_,2),X=Y[0],K=Y[1],$=(0,R.useState)(f.bookmarks),ee=(0,M.Z)($,2),ne=(ee[0],ee[1]),te=(0,R.useState)(!1),re=(0,M.Z)(te,2),ie=re[0],se=re[1],ae=(0,R.useState)(null),le=(0,M.Z)(ae,2),ce=le[0],de=le[1],ue=(0,R.useRef)(null),me=(0,R.useRef)(null),he=(0,R.useRef)(null),xe=(0,R.useRef)(null),je=(0,R.useRef)(null),pe=(0,R.useCallback)((0,S.Z)(B().mark((function e(){var t,r,i;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.Cf)(n);case 2:t=e.sent,r=t.data,(i=document.createElement("video")).src=r.recordUrl,b({bookmarks:r.bookmarks?r.bookmarks.map((function(e){return(0,C.Z)((0,C.Z)({},e),{},{drawing:JSON.parse(e.drawing),icon:e.emoji?String.fromCodePoint(parseInt("0x"+e.emoji)):""})})):[],codedWidth:720,codedHeight:Qe,displayAspectRatio:"16:9",el:i,filePath:r.recordUrl,frameRate:30,id:r.id,name:r.title,seeking:!1,volume:.8}),ne(r.bookmarks),d(!1);case 9:case"end":return e.stop()}}),e)}))),[n]),fe=(0,R.useCallback)((function(){null!==xe.current&&void 0!==f.el&&(xe.current.innerHTML="",xe.current.appendChild(f.el),f.el.volume=f.volume,W(f.el.volume),function(e,n){var t=new Audio(e);t.addEventListener("durationchange",(function(){if(this.duration!=1/0){var e=this.duration;t.remove(),n(e)}}),!1),t.load(),t.currentTime=86400,t.volume=0,t.play()}(f.el.src,P),f.el.ontimeupdate=function(){E(f.el.currentTime)},x(!1))}),[f]);(0,R.useEffect)((function(){if(ue.current&&f.displayAspectRatio){var e=U(f.displayAspectRatio,ue.current);Z(e)}}),[f.displayAspectRatio]),(0,R.useEffect)((function(){c&&pe()}),[]),(0,R.useEffect)((function(){h&&fe()}),[c]),(0,R.useEffect)((function(){if(ue.current){var e=U(f.displayAspectRatio,ue.current);Z(e)}}),[]);var ge=function(){null!==xe.current&&null!==je.current&&(f.el.pause(),je.current.pause(),K(!1))},be=function(){var e=void 0!==s&&(0,g.jsx)(D.kC,{align:"center",bottom:0,justify:"center",left:0,pointerEvents:"none",position:"absolute",top:0,zIndex:2,children:(0,g.jsx)(D.xu,{background:"gray.900",borderColor:"whiteAlpha.500",borderLeft:"none",borderWidth:"1px",boxSizing:"border-box",padding:4,pointerEvents:"all",children:(0,g.jsx)(oe,{app:s})})}),n=(0,g.jsx)(F,{onMount:function(e){return o(e)},scale:1,playing:X,video:f,setVideo:b,videoBookmark:ce||null}),t=void 0!==ce&&(0,g.jsx)(Se,{video:f,setVideo:b,bookmark:ce||null,setActiveBookmark:de,scale:1,playing:X,setCurrentTime:E,editingBookmark:ie,setEditingBookmark:se,comments:null===ce||void 0===ce?void 0:ce.comments}),r=(0,g.jsx)(D.kC,{align:"center",bottom:0,boxSizing:"border-box",justify:"center",left:0,position:"absolute",right:0,zIndex:2,children:(0,g.jsxs)(D.kC,{align:"center",background:"gray.900",borderBottom:"none",borderColor:"whiteAlpha.500",borderWidth:"1px",minWidth:"50vw",p:4,pointerEvents:"all",children:[(0,g.jsx)(I.u,{label:X?"Pause":"Play",children:(0,g.jsxs)(D.xu,{mr:"2",children:[!X&&(0,g.jsx)(H.hU,{onClick:function(){null!==xe.current&&null!==je.current&&(f.el.play(),je.current.play(),K(!0)),se(!1),de(null)},icon:(0,g.jsx)(ze.Z,{}),"aria-label":"Play"}),X&&(0,g.jsx)(H.hU,{onClick:function(){return ge()},icon:(0,g.jsx)(Ve.Z,{}),"aria-label":"Pause"})]})}),(0,g.jsx)(D.xu,{mx:"2",children:(0,g.jsx)(Ee,{currentTime:w,fullDuration:L})}),(0,g.jsx)(D.xu,{flexGrow:1,mx:"2",minW:"25vw",children:(0,g.jsx)(Te,{video:f,fullDuration:L,currentTime:w,setCurrentTime:E,setActiveBookmark:de,pauseVideo:ge,camVideoRef:je})}),(0,g.jsx)(D.xu,{mx:"2",children:(0,g.jsx)(Ie,{video:f,setCurrentVolume:W})}),s&&(0,g.jsx)(D.xu,{mx:"2",children:(0,g.jsx)(Le,{app:s,disabled:!!ce||ie||X,scale:1,video:f,setVideo:b,currentTime:w,setEditingBookmark:se,setActiveBookmark:de,pauseVideo:ge},f.id)}),(0,g.jsx)(I.u,{label:"Presentation mode",children:(0,g.jsx)(D.xu,{ml:"2",children:(0,g.jsx)(H.hU,{onClick:function(){return q(!J)},icon:(0,g.jsx)(We.Z,{}),"aria-label":"Fullscreen video",ref:he})})})]})});return(0,g.jsx)(D.kC,{direction:"column",width:"100%",height:"calc(100vh - 5rem)",ref:me,children:(0,g.jsxs)(D.kC,{flexGrow:1,flexShrink:1,overflow:"hidden",position:"relative",children:[e,r,(0,g.jsx)(D.kC,{align:"center",flexGrow:1,flexShrink:1,justifyContent:"center",ref:ue,overflow:"hidden",children:(0,g.jsxs)(D.xu,{position:"relative",css:Ge,id:"overlay",style:{touchAction:"none"},children:[n,t,(0,g.jsx)(D.xu,{css:Je,ref:xe})]})})]})})}();return(0,g.jsx)(g.Fragment,{children:c?(0,g.jsx)("p",{children:"loading"}):(0,g.jsxs)(D.kC,{children:[(0,g.jsx)(D.xu,{width:"100vw",bgColor:"black",children:be}),(0,g.jsx)("div",{id:"cam-wrapper",children:(0,g.jsx)("video",{id:"cam",width:"320px",height:"240px",src:t,ref:je,muted:!0})})]})})},_e=t(65223),Ye=t(64857),Xe=function(e){var n=e.dailyStandup,t=(0,p.ww)().getTimeFromNow,r=(0,p.LF)().onViewDailyStandups,i=(0,_e.qY)(),s=i.isOpen,o=i.onOpen,a=i.onClose;return(0,g.jsx)(d.Z,{className:"d-block me-3",children:(0,g.jsxs)(d.Z.Body,{onClick:function(){o(),r(n)},style:{cursor:"pointer"},children:[(0,g.jsx)("div",{className:(n.seen?"opacity-25":"")+" text-center",children:(0,g.jsx)("img",{src:n.profileImageUrl,className:"rounded-circle avatar-lg",alt:n.author,referrerPolicy:"no-referrer"})}),(0,g.jsx)("h4",{className:(n.seen?"text-light":"")+" text-center font-weight-bold mt-2",children:n.author}),(0,g.jsx)("p",{className:(n.seen?"text-light":"text-muted")+" text-center font-12 mb-1",children:t(n.createdDate)}),(0,g.jsxs)(Ye.u_,{onClose:a,size:"full",isOpen:s,children:[(0,g.jsx)(Ye.ZA,{}),(0,g.jsxs)(Ye.hz,{children:[(0,g.jsx)(Ye.xB,{children:n.author+" - "+t(n.createdDate)}),(0,g.jsx)(Ye.ol,{}),(0,g.jsx)(Ye.fe,{children:(0,g.jsx)(qe,{id:n.screenRecordId,cam:n.camRecordFileUrl})})]})]})]})})},Ke=function(){var e=(0,p.dd)(),n=e.isOpen,t=e.size,r=e.className,i=e.scroll,s=e.toggleModal,o=e.openModalWithClass;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(v.Z,{onClick:function(){o("modal-full-width")},children:[(0,g.jsx)("i",{className:"mdi mdi-plus"})," Record"]}),(0,g.jsx)(m.Z,{show:n,onHide:s,dialogClassName:r,size:t,scrollable:i,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:s,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:"Record"})}),(0,g.jsx)(ve.SB,{})]})})]})},$e=function(){var e=(0,p.LF)(),n=e.carouselRef,t=e.dailyStandups,r=e.dailyStandupLoading;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{children:(0,g.jsx)("div",{className:"page-title-box",children:(0,g.jsx)("h4",{className:"page-title",children:"Daily Standups"})})})}),(0,g.jsx)(l.Z,{className:"mb-2",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(Ke,{})})}),(0,g.jsx)(l.Z,{children:!r&&(0,g.jsx)(w.default,{ref:n,additionalTransfrom:0,arrows:!0,centerMode:!1,className:"",containerClass:"container",dotListClass:"",draggable:!0,focusOnSelect:!1,infinite:!1,itemClass:"",keyBoardControl:!0,minimumTouchDrag:80,pauseOnHover:!0,renderArrowsWhenDisabled:!1,renderButtonGroupOutside:!1,renderDotsOutside:!1,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:6,partialVisibilityGutter:40},mobile:{breakpoint:{max:464,min:0},items:1,partialVisibilityGutter:30},tablet:{breakpoint:{max:1024,min:464},items:2,partialVisibilityGutter:30}},rewind:!1,rewindWithAnimation:!1,rtl:!1,shouldResetAutoplay:!0,showDots:!1,sliderClass:"",slidesToSlide:1,children:t.map((function(e,n){return(0,g.jsx)("div",{children:(0,g.jsx)(Xe,{dailyStandup:e})},n)}))})})]})},en=function(e){var n=e.meeting,t=e.onDeleteMeeting,r=e.onEnterMeeting,i=e.onEndMeeting,s=(0,p.L1)(),o=s.isDeleteOpen,a=s.toggleDelete,l=s.isViewOpen,c=s.toggleView,j=s.closeModalAfterFunction,f=(0,p.ww)().getTimeFromNow;return(0,g.jsx)(d.Z,{className:"d-block",children:(0,g.jsxs)(d.Z.Body,{children:[(0,g.jsxs)(u.Z,{className:"card-widgets",align:"end",children:[(0,g.jsx)(u.Z.Toggle,{variant:"link",as:"a",className:"card-drop arrow-none cursor-pointer p-0 shadow-none",children:(0,g.jsx)("i",{className:"dripicons-dots-3"})}),(0,g.jsxs)(u.Z.Menu,{children:[(0,g.jsx)(u.Z.Item,{children:"Share"}),(0,g.jsx)(u.Z.Item,{onClick:function(){i(n.id)},children:"End Meeting"}),(0,g.jsx)(u.Z.Item,{className:"text-danger",onClick:a,children:"Delete"}),(0,g.jsx)(m.Z,{show:o,onHide:a,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:a,closeButton:!0,children:(0,g.jsxs)("h4",{className:"modal-title",children:["Delete ",n.meetingName]})}),(0,g.jsx)("p",{className:"mt-4 mb-4 text-center font-weight-bolds",children:"Are you sure you want to delete this meeting permanently?"}),(0,g.jsxs)("form",{className:"ps-3 pe-3",onSubmit:function(e){return j(t,e,a)},children:[(0,g.jsx)("input",{type:"hidden",id:"id",value:n.id}),(0,g.jsx)("div",{className:"mb-3 text-center",children:(0,g.jsx)("button",{className:"btn btn-danger",type:"submit",children:"Delete"})})]})]})})]})]}),(0,g.jsxs)("h4",{className:"mt-0",style:{cursor:"pointer"},onClick:function(){n.status?r(n.id,n.meetingName):n.meetingFileUrl&&c()},children:[n.meetingName,n.status?(0,g.jsxs)("span",{className:"badge bg-danger float-end me-1",children:[(0,g.jsx)("i",{className:"mdi mdi-access-point"})," live"]}):""]}),(0,g.jsxs)("div",{className:"mt-3",children:[(0,g.jsx)("span",{className:"font-13",children:"Participants: "}),n&&n.participants.map((function(e){return(0,g.jsx)(h.Z,{placement:"bottom",overlay:(0,g.jsx)(x.Z,{children:e[0]}),children:(0,g.jsx)("img",{src:e[1],className:"rounded-circle avatar-xs",alt:e[0]})},e[0])}))]}),(0,g.jsxs)("p",{className:"text-muted text-end font-12 mt-3 mb-1",children:["Last modified: ",f(n.lastModifiedDate)]}),(0,g.jsx)(m.Z,{show:l,onHide:c,size:"xl",children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:c,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:n.meetingName})}),(0,g.jsx)("div",{children:(0,g.jsx)("video",{className:"d-block mx-auto",src:n.meetingFileUrl,width:"960",height:"540",controls:!0})})]})})]})})},nn=t(94560),tn=function(e){var n=e.meetingId,t=e.meetingName,r=(0,R.useState)(!1),i=(0,M.Z)(r,2),s=i[0],o=i[1],a=(0,nn.p)(),l=a.recordingState,c=a.videoRef,d=a.previewStream,u=a.screenMediaBlobUrl,m=a.setRecordingState,h=a.screenStartRecording,x=a.screenStopRecording,j=a.uploadMeetingVideo,f=(0,p.p4)(),b=f.onEndMeeting,v=f.onEnterMeeting;return(0,g.jsx)("div",{className:"video-recorder mt-4",children:(0,g.jsxs)("div",{children:["recording"===l&&d&&(0,g.jsx)("div",{children:(0,g.jsx)("video",{ref:c,width:960,height:540,controls:!0,playsInline:!0,autoPlay:!0,style:{marginLeft:"auto",marginRight:"auto",display:"block"}})}),"recorded"===l&&(0,g.jsx)("div",{children:(0,g.jsx)("video",{src:u,controls:!0,autoPlay:!0,playsInline:!0,width:960,height:540,style:{marginLeft:"auto",marginRight:"auto",display:"block"}})}),"recording"!==l?"idle"===l?(0,g.jsxs)("div",{className:"mt-4 mb-3 text-center",children:[(0,g.jsx)("div",{className:"d-inline me-3",children:(0,g.jsx)("button",{className:"btn btn-secondary",onClick:function(){m("refused"),v(n,t)},children:"Start Meeting without Recording"})}),(0,g.jsx)("button",{className:"btn btn-primary",onClick:function(){h(),m("recording")},children:"Start Meeting with Recording"})]}):(0,g.jsx)("div",{className:"mt-4 mb-3 text-center",children:s?(0,g.jsx)("button",{className:"btn btn-primary",onClick:function(){j(u,n),b(n)},children:"Save Recording & End Meeting"}):(0,g.jsx)("button",{className:"btn btn-primary",onClick:function(){b(n)},children:"End Meeting"})}):(0,g.jsxs)("div",{className:"mt-4 mb-3 text-center",children:[s&&(0,g.jsx)("h4",{className:"mb-4",children:"Meeting in progress..."}),(0,g.jsx)("button",{className:"btn btn-primary me-3",onClick:function(){o(!0),v(n,t)},children:"Start Meeting"}),(0,g.jsx)("button",{className:"btn btn-danger",onClick:function(){x(),m("recorded")},children:"Stop Recording"})]})]})})},rn=function(){var e=(0,p.p4)(),n=e.isCreateMeetingOpen,t=e.toggleCreateMeeting,r=e.isRecordOpen,i=e.toggleRecord,s=e.currentMeetingId,o=e.currentMeetingName,a=e.onCreateMeeting;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(v.Z,{onClick:t,children:[(0,g.jsx)("i",{className:"mdi mdi-plus"})," Start a new meeting"]}),(0,g.jsx)(m.Z,{show:n,onHide:t,children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:t,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:"Start a new meeting"})}),(0,g.jsxs)("form",{className:"ps-3 pe-3",onSubmit:a,children:[(0,g.jsxs)("div",{className:"mt-3 mb-3",children:[(0,g.jsx)("label",{htmlFor:"meetingName",className:"form-label",children:"Meeting Name"}),(0,g.jsx)("input",{className:"form-control",type:"text",id:"meetingName",maxLength:255,required:!0,placeholder:"Meeting Name"})]}),(0,g.jsx)("div",{className:"mb-3 text-center",children:(0,g.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Create"})})]})]})}),(0,g.jsx)(m.Z,{show:r,onHide:i,size:"xl",children:(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)(m.Z.Header,{onHide:i,closeButton:!0,children:(0,g.jsx)("h4",{className:"modal-title",children:"Record a meeting video"})}),(0,g.jsx)(tn,{meetingId:s,meetingName:o})]})})]})},sn=function(){var e=(0,p.p4)(),n=e.meetings,t=e.meetingLoading,r=e.onDeleteMeeting,i=e.onEnterMeeting,s=e.onEndMeeting;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{children:(0,g.jsx)("div",{className:"page-title-box",children:(0,g.jsx)("h4",{className:"page-title",children:"Meetings"})})})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{})}),(0,g.jsx)(l.Z,{className:"mb-4",children:(0,g.jsx)(c.Z,{sm:4,children:(0,g.jsx)(rn,{})})}),!t&&n.length>0&&(0,g.jsx)(l.Z,{children:n.map((function(e){return(0,g.jsx)(c.Z,{md:6,xxl:3,children:(0,g.jsx)(en,{meeting:e,onDeleteMeeting:r,onEnterMeeting:i,onEndMeeting:s})},"mt-"+e.id)}))})]})},on=function(){return(0,g.jsx)("div",{className:"containter pt-5",children:(0,g.jsx)(l.Z,{className:"pt-5",children:(0,g.jsx)(c.Z,{children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("h3",{className:"",children:"Start by creating a team!"}),(0,g.jsx)("p",{className:"text-muted mt-3",children:"You can also join another team after receiving invitations."}),(0,g.jsx)(j.rU,{to:"/settings/create-team",children:(0,g.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm mt-2",children:[(0,g.jsx)("i",{className:"mdi mdi-plus font-18 align-middle me-2"}),"Create Team"]})})]})})})})},an=function(){var e=(0,(0,f.Sc)().appSelector)((function(e){return{loading:e.Auth.loading,teamList:e.Team.teamList}})),n=e.loading,t=e.teamList;return n?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("p",{children:"Loading"})}):t.length>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($e,{}),(0,g.jsx)("hr",{}),(0,g.jsx)(sn,{}),(0,g.jsx)("hr",{}),(0,g.jsx)(y,{})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(on,{})})}}}]);
//# sourceMappingURL=86.c45bb756.chunk.js.map