"use strict";(self.webpackChunkasyncrum=self.webpackChunkasyncrum||[]).push([[869],{15086:function(e,n,t){var r=t(43504),a=t(80184);n.Z=function(e){var n=e.selected;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"email-menu-list",children:[(0,a.jsxs)(r.rU,{to:"/settings/user",className:"personal"===n?"active text-primary":"",children:[(0,a.jsx)("i",{className:"mdi mdi-account-outline font-18 align-middle me-2"}),"Personal Profile"]}),(0,a.jsxs)(r.rU,{to:"/settings/team",className:"team"===n?"active text-primary":"",children:[(0,a.jsx)("i",{className:"mdi mdi-account-group-outline font-18 align-middle me-2"}),"Team Profile"]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("h4",{children:(0,a.jsx)("span",{className:"badge rounded-pill p-1 px-2 badge-secondary-lighten",children:"FREE"})})})]})}},34733:function(e,n,t){t.r(n);var r=t(15861),a=t(29439),s=t(64687),i=t.n(s),o=t(9140),l=t(89743),c=t(2677),d=t(43360),u=t(95316),m=t(29795),f=t(99410),h=t(13851),p=t(15086),x=t(72791),v=t(9478),g=t(74569),Z=t.n(g),b=t(9085),j=(t(5462),t(10765)),y=t(80184),N=JSON.parse(sessionStorage.getItem("asyncrum_user")),w=function(e){var n=e.member;return(0,y.jsx)(o.Z,{className:"d-block mx-2 mb-2 h-100",children:(0,y.jsxs)(o.Z.Body,{children:[(0,y.jsx)("div",{className:"text-center mb-2",children:(0,y.jsx)("img",{src:n.profileImageUrl,className:"rounded avatar-lg",alt:"member",referrerPolicy:"no-referrer"})}),(0,y.jsx)("h4",{className:"text-center font-weight-bold mt-3 mb-0",children:n.fullname})]})})};n.default=function(){var e=(0,x.useState)(!0),n=(0,a.Z)(e,2),t=n[0],s=n[1],g=(0,x.useState)(),k=(0,a.Z)(g,2),E=k[0],C=k[1],R=(0,x.useState)(),I=(0,a.Z)(R,2),P=I[0],S=I[1],F=(0,x.useState)(),T=(0,a.Z)(F,2),A=T[0],U=T[1],O=(0,j.OT)(),D=(0,a.Z)(O,2),B=D[0],L=D[1],H=(0,x.useRef)(null);(0,x.useEffect)((function(){z()}),[]),(0,x.useEffect)((function(){S(null===E||void 0===E?void 0:E.pictureUrl)}),[E]),(0,x.useEffect)((function(){}));var z=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z().get(v.Z.API_URL+"/api/v1/teams/"+N.id,{headers:{Authorization:"Bearer "+N.token}}).then((function(e){return{id:e.data.id,name:e.data.name,pictureUrl:e.data.pictureUrl,members:e.data.members.map((function(e){return{fullname:e.fullname,profileImageUrl:e.profileImageUrl}}))}})).then((function(e){return C(e),S(null===E||void 0===E?void 0:E.pictureUrl),s(!1),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){return(0,b.Am)((0,y.jsxs)("div",{children:["Team logo saved successfully!",(0,y.jsx)("br",{}),"The change might take a few minutes to be applied."]}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{children:(0,y.jsx)(c.Z,{children:(0,y.jsx)("div",{className:"page-title-box",children:(0,y.jsx)("h4",{className:"page-title",children:"Settings"})})})}),!t&&(0,y.jsx)(l.Z,{children:(0,y.jsx)(c.Z,{children:(0,y.jsx)(o.Z,{children:(0,y.jsxs)(o.Z.Body,{children:[(0,y.jsx)("div",{className:"page-aside-left",children:(0,y.jsx)(p.Z,{selected:"team"})}),(0,y.jsxs)("div",{className:"page-aside-right",children:[(0,y.jsx)("h4",{className:"mb-3",children:"Change Team Information"}),(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(c.Z,{md:7,children:(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements.name.value;Z().patch("".concat(v.Z.API_URL+"/api/v1/teams/"+(null===E||void 0===E?void 0:E.id)),{name:n},{headers:{Authorization:"Bearer "+N.token}}).then((function(){window.location.reload()}))},children:[(0,y.jsx)(h.yt,{label:"Team Name",type:"text",name:"name",containerClass:"mb-3",placeholder:null===E||void 0===E?void 0:E.name,required:!0},"name"),(0,y.jsx)(d.Z,{color:"primary",type:"submit",children:"Save Changes"})]})}),(0,y.jsxs)(c.Z,{md:{span:3,offset:2},children:[(0,y.jsxs)("div",{style:{height:190,position:"relative"},children:[(0,y.jsx)("p",{className:"mb-1",style:{fontWeight:"600"},children:"Team Logo"}),(0,y.jsxs)("div",{className:"overlay-container",children:[(0,y.jsx)("img",{src:P,alt:"profile preview",className:"rounded ratio ratio-1x1",style:{position:"absolute",width:150,height:150,cursor:"pointer"},referrerPolicy:"no-referrer"}),(0,y.jsx)("input",{type:"file",accept:"image/png",style:{display:"none"},name:"logoImage",onChange:function(e){if(e.target.files){U(e.target.files[0]);var n=new FileReader;n.onload=function(){2===n.readyState&&S(n.result)},n.readAsDataURL(e.target.files[0])}else S(null===E||void 0===E?void 0:E.pictureUrl)},ref:H}),(0,y.jsx)("div",{className:"overlay rounded",onClick:function(){H.current.click()},children:(0,y.jsx)("div",{className:"overlay-text",children:"click to upload"})})]})]}),(0,y.jsx)(d.Z,{className:"me-2",onClick:function(e){A&&Z().post(v.Z.API_URL+"/api/v1/team/images/"+(null===E||void 0===E?void 0:E.id),null,{headers:{Authorization:"Bearer "+N.token}}).then((function(e){var n=e.data.preSignedURL;Z().create({transformRequest:[function(e,n){return delete n.common.Authorization,n["Content-Type"]="image/png",A}]}).put(n,A).then((function(){_()}))}))},children:"Save"}),(0,y.jsx)(d.Z,{className:"btn btn-secondary",onClick:function(){S(null===E||void 0===E?void 0:E.pictureUrl),U(null)},children:"Cancel"})]})]}),(0,y.jsx)("hr",{}),(0,y.jsx)(l.Z,{className:"mb-3",children:(0,y.jsxs)(c.Z,{children:[(0,y.jsx)("span",{className:"h4 mb-1 me-3",children:"Members"}),(0,y.jsxs)(d.Z,{className:"btn btn-primary",onClick:L,children:[(0,y.jsx)("i",{className:"mdi mdi-plus"})," Invite"]}),(0,y.jsx)(u.Z,{show:B,onHide:L,children:(0,y.jsxs)(u.Z.Body,{children:[(0,y.jsx)(u.Z.Header,{onHide:L,closeButton:!0,children:(0,y.jsx)("h4",{className:"modal-title",children:"Invite a new member"})}),(0,y.jsx)("form",{className:"ps-3 pe-3 mt-3",onSubmit:function(e){e.preventDefault();var n=e.target.elements.email.value,t={memberId:null,memberEmail:n};Z().post(v.Z.API_URL+"/api/v1/teams/"+(null===E||void 0===E?void 0:E.id)+"/members/invitation",t,{headers:{Authorization:"Bearer "+N.token}}).then((function(){return(0,b.Am)((0,y.jsxs)("div",{children:["Invitation sent to ",n,"!"]}))}))},children:(0,y.jsxs)(m.Z.Group,{children:[(0,y.jsx)(m.Z.Label,{htmlFor:"email",children:"Invite by Email"}),(0,y.jsxs)(f.Z,{className:"mb-3",children:[(0,y.jsx)(m.Z.Control,{id:"email",type:"email",placeholder:"example@email.com"}),(0,y.jsx)(d.Z,{type:"submit",children:"Send Invitation"})]})]})})]})})]})}),(0,y.jsx)(l.Z,{children:null===E||void 0===E?void 0:E.members.map((function(e,n){return(0,y.jsx)(c.Z,{sm:6,lg:4,xl:3,className:"mb-4",children:(0,y.jsx)(w,{member:e})})}))}),(0,y.jsx)("hr",{}),(0,y.jsx)(l.Z,{children:(0,y.jsxs)(c.Z,{children:[(0,y.jsxs)("h4",{children:["Leave ",null===E||void 0===E?void 0:E.name," team"]}),(0,y.jsx)("p",{children:"By leaving the team, you will lose access to all its contents."}),(0,y.jsx)(d.Z,{className:"btn btn-danger",children:"Leave Team"})]})})]})]})})})}),(0,y.jsx)(b.Ix,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},95316:function(e,n,t){t.d(n,{Z:function(){return M}});var r,a=t(29439),s=t(45987),i=t(1413),o=t(81694),l=t.n(o),c=t(3070),d=t(97357),u=t(78376),m=t(36382);function f(e){if((!r&&0!==r||e)&&d.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var h=t(28633),p=t(39007),x=t(73201),v=t(91683),g=t(33690),Z=t(72791),b=t(57246),j=t(28099),y=t(72709),N=t(66543),w=(0,N.Z)("modal-body"),k=t(99820),E=t(10162),C=t(80184),R=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],I=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.contentClassName,o=e.centered,c=e.size,d=e.fullscreen,u=e.children,m=e.scrollable,f=(0,s.Z)(e,R);t=(0,E.vE)(t,"modal");var h="".concat(t,"-dialog"),p="string"===typeof d?"".concat(t,"-fullscreen-").concat(d):"".concat(t,"-fullscreen");return(0,C.jsx)("div",(0,i.Z)((0,i.Z)({},f),{},{ref:n,className:l()(h,r,c&&"".concat(t,"-").concat(c),o&&"".concat(h,"-centered"),m&&"".concat(h,"-scrollable"),d&&p),children:(0,C.jsx)("div",{className:l()("".concat(t,"-content"),a),children:u})}))}));I.displayName="ModalDialog";var P=I,S=(0,N.Z)("modal-footer"),F=t(32086),T=["bsPrefix","className"],A=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=(0,s.Z)(e,T);return t=(0,E.vE)(t,"modal-header"),(0,C.jsx)(F.Z,(0,i.Z)((0,i.Z)({ref:n},a),{},{className:l()(r,t)}))}));A.displayName="ModalHeader",A.defaultProps={closeLabel:"Close",closeButton:!1};var U=A,O=(0,t(27472).Z)("h4"),D=(0,N.Z)("modal-title",{Component:O}),B=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],L={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:P};function H(e){return(0,C.jsx)(y.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}function z(e){return(0,C.jsx)(y.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}var _=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,o=e.style,y=e.dialogClassName,N=e.contentClassName,w=e.children,R=e.dialogAs,I=e["aria-labelledby"],P=e.show,S=e.animation,F=e.backdrop,T=e.keyboard,A=e.onEscapeKeyDown,U=e.onShow,O=e.onHide,D=e.container,L=e.autoFocus,_=e.enforceFocus,M=e.restoreFocus,K=e.restoreFocusOptions,W=e.onEntered,q=e.onExit,G=e.onExiting,J=e.onEnter,Q=e.onEntering,V=e.onExited,X=e.backdropClassName,Y=e.manager,$=(0,s.Z)(e,B),ee=(0,Z.useState)({}),ne=(0,a.Z)(ee,2),te=ne[0],re=ne[1],ae=(0,Z.useState)(!1),se=(0,a.Z)(ae,2),ie=se[0],oe=se[1],le=(0,Z.useRef)(!1),ce=(0,Z.useRef)(!1),de=(0,Z.useRef)(null),ue=(0,h.Z)(),me=(0,a.Z)(ue,2),fe=me[0],he=me[1],pe=(0,x.Z)(n,he),xe=(0,p.Z)(O),ve=(0,E.SC)();t=(0,E.vE)(t,"modal");var ge=(0,Z.useMemo)((function(){return{onHide:xe}}),[xe]);function Ze(){return Y||(0,j.t)({isRTL:ve})}function be(e){if(d.Z){var n=Ze().getScrollbarWidth()>0,t=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;re({paddingRight:n&&!t?f():void 0,paddingLeft:!n&&t?f():void 0})}}var je=(0,p.Z)((function(){fe&&be(fe.dialog)}));(0,v.Z)((function(){(0,m.Z)(window,"resize",je),null==de.current||de.current()}));var ye=function(){le.current=!0},Ne=function(e){le.current&&fe&&e.target===fe.dialog&&(ce.current=!0),le.current=!1},we=function(){oe(!0),de.current=(0,g.Z)(fe.dialog,(function(){oe(!1)}))},ke=function(e){"static"!==F?ce.current||e.target!==e.currentTarget?ce.current=!1:null==O||O():function(e){e.target===e.currentTarget&&we()}(e)},Ee=(0,Z.useCallback)((function(e){return(0,C.jsx)("div",(0,i.Z)((0,i.Z)({},e),{},{className:l()("".concat(t,"-backdrop"),X,!S&&"show")}))}),[S,X,t]),Ce=(0,i.Z)((0,i.Z)({},o),te);S||(Ce.display="block");return(0,C.jsx)(k.Z.Provider,{value:ge,children:(0,C.jsx)(b.Z,{show:P,ref:pe,backdrop:F,container:D,keyboard:!0,autoFocus:L,enforceFocus:_,restoreFocus:M,restoreFocusOptions:K,onEscapeKeyDown:function(e){T||"static"!==F?T&&A&&A(e):(e.preventDefault(),we())},onShow:U,onHide:O,onEnter:function(e,n){e&&(e.style.display="block",be(e)),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,c.ZP)(window,"resize",je)},onEntered:W,onExit:function(e){null==de.current||de.current(),null==q||q(e)},onExiting:G,onExited:function(e){e&&(e.style.display=""),null==V||V(e),(0,m.Z)(window,"resize",je)},manager:Ze(),transition:S?H:void 0,backdropTransition:S?z:void 0,renderBackdrop:Ee,renderDialog:function(e){return(0,C.jsx)("div",(0,i.Z)((0,i.Z)({role:"dialog"},e),{},{style:Ce,className:l()(r,t,ie&&"".concat(t,"-static")),onClick:F?ke:void 0,onMouseUp:Ne,"aria-labelledby":I,children:(0,C.jsx)(R,(0,i.Z)((0,i.Z)({},$),{},{onMouseDown:ye,className:y,contentClassName:N,children:w}))}))}})})}));_.displayName="Modal",_.defaultProps=L;var M=Object.assign(_,{Body:w,Header:U,Title:D,Footer:S,Dialog:P,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},5462:function(){},11752:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(61120);function a(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=(0,r.Z)(e)););return e}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=a(e,n);if(r){var s=Object.getOwnPropertyDescriptor(r,n);return s.get?s.get.call(arguments.length<3?e:t):s.value}},s.apply(this,arguments)}}}]);
//# sourceMappingURL=869.179db5fc.chunk.js.map