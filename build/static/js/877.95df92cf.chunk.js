"use strict";(self.webpackChunkasyncrum=self.webpackChunkasyncrum||[]).push([[877],{15086:function(e,a,s){var n=s(43504),t=s(80184);a.Z=function(e){var a=e.selected;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"email-menu-list",children:[(0,t.jsxs)(n.rU,{to:"/settings/user",className:"personal"===a?"active text-primary":"",children:[(0,t.jsx)("i",{className:"mdi mdi-account-outline font-18 align-middle me-2"}),"Personal Profile"]}),(0,t.jsxs)(n.rU,{to:"/settings/team",className:"team"===a?"active text-primary":"",children:[(0,t.jsx)("i",{className:"mdi mdi-account-group-outline font-18 align-middle me-2"}),"Team Profile"]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("h4",{children:(0,t.jsx)("span",{className:"badge rounded-pill p-1 px-2 badge-secondary-lighten",children:"FREE"})})})]})}},40877:function(e,a,s){s.r(a);var n=s(29439),t=s(89743),i=s(2677),l=s(9140),r=s(43360),o=s(13851),c=s(15086),m=s(72791),d=s(9478),u=s(74569),h=s.n(u),p=s(9085),f=(s(5462),s(80184)),x=JSON.parse(sessionStorage.getItem("asyncrum_user"));a.default=function(){var e=(0,m.useState)(x.profileImageUrl),a=(0,n.Z)(e,2),s=a[0],u=a[1],g=(0,m.useState)(),j=(0,n.Z)(g,2),y=j[0],v=j[1],N=(0,m.useRef)(null),b=function(){return(0,p.Am)((0,f.jsxs)("div",{children:["Profile image saved successfully!",(0,f.jsx)("br",{}),"The change might take a few minutes to be applied."]}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t.Z,{children:(0,f.jsx)(i.Z,{children:(0,f.jsx)("div",{className:"page-title-box",children:(0,f.jsx)("h4",{className:"page-title",children:"Settings"})})})}),(0,f.jsx)(t.Z,{children:(0,f.jsx)(i.Z,{children:(0,f.jsx)(l.Z,{children:(0,f.jsxs)(l.Z.Body,{children:[(0,f.jsx)("div",{className:"page-aside-left",children:(0,f.jsx)(c.Z,{selected:"personal"})}),(0,f.jsxs)("div",{className:"page-aside-right",children:[(0,f.jsx)("h4",{className:"mb-3",children:"Change Personal Information"}),(0,f.jsxs)(t.Z,{children:[(0,f.jsx)(i.Z,{md:7,children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements.fullname.value;h().patch("".concat(d.Z.API_URL+"/api/v1/members/"+x.id),{fullname:a,nickname:""},{headers:{Authorization:"Bearer "+x.token}}).then((function(){x.fullname=a,sessionStorage.setItem("asyncrum_user",JSON.stringify(x)),window.location.reload()}))},children:[(0,f.jsx)(o.yt,{label:"Full Name",type:"text",name:"fullname",containerClass:"mb-3",placeholder:x.fullname,required:!0},"fullname"),(0,f.jsx)(o.yt,{label:"Company Name",type:"text",name:"companyName",containerClass:"mb-3"},"companyName"),(0,f.jsx)(o.yt,{label:"Role",type:"text",name:"role",containerClass:"mb-3"},"role"),(0,f.jsx)(r.Z,{color:"primary",type:"submit",children:"Save Changes"})]})}),(0,f.jsxs)(i.Z,{md:{span:3,offset:2},children:[(0,f.jsxs)("div",{style:{height:190,position:"relative"},children:[(0,f.jsx)("p",{className:"mb-1",style:{fontWeight:"600"},children:"Profile Image"}),(0,f.jsxs)("div",{className:"overlay-container",children:[(0,f.jsx)("img",{src:s,alt:"profile preview",className:"rounded ratio ratio-1x1",style:{position:"absolute",width:150,height:150,cursor:"pointer"},referrerPolicy:"no-referrer"}),(0,f.jsx)("input",{type:"file",accept:"image/png",style:{display:"none"},name:"profileImage",onChange:function(e){if(e.target.files){v(e.target.files[0]);var a=new FileReader;a.onload=function(){2===a.readyState&&u(a.result)},a.readAsDataURL(e.target.files[0])}else u(x.profileImageUrl)},ref:N}),(0,f.jsx)("div",{className:"overlay rounded",onClick:function(){N.current.click()},children:(0,f.jsx)("div",{className:"overlay-text",children:"click to upload"})})]})]}),(0,f.jsx)(r.Z,{className:"me-2",onClick:function(e){y&&h().post(d.Z.API_URL+"/api/v1/member/images/"+x.id,null,{headers:{Authorization:"Bearer "+x.token}}).then((function(e){var a=e.data.preSignedURL;h().create({transformRequest:[function(e,a){return delete a.common.Authorization,a["Content-Type"]="image/png",y}]}).put(a,y).then((function(){b()}))}))},children:"Save"}),(0,f.jsx)(r.Z,{className:"btn btn-secondary",onClick:function(){u(x.profileImageUrl),v(null)},children:"Cancel"})]})]})]})]})})})}),(0,f.jsx)(p.Ix,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}},5462:function(){}}]);
//# sourceMappingURL=877.95df92cf.chunk.js.map